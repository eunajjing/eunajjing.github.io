<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Page 15 | ERecord</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="일상 및 개발 공부 기록용 블로그">
<meta property="og:type" content="website">
<meta property="og:title" content="ERecord">
<meta property="og:url" content="http://eunajjing.github.io/page/15/index.html">
<meta property="og:site_name" content="ERecord">
<meta property="og:description" content="일상 및 개발 공부 기록용 블로그">
<meta property="og:locale" content="ko">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ERecord">
<meta name="twitter:description" content="일상 및 개발 공부 기록용 블로그">
  
    <link rel="alternate" href="/atom.xml" title="ERecord" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">
  <link rel="stylesheet" href="/css/fashion.css">
  <link rel="stylesheet" href="/css/glyphs.css">

</head>
</html>


  <body>


  


<header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="ERecord" rel="home"> ERecord </a>
            
          </h1>
          
          
            <div class="site-description">일상 및 개발 공부 기록용 블로그</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows" style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="https://www.notion.so/eunako-attr-every_day-study_hard-ebb1a09d24734280aba94018d13df0a1">About</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="https://www.notion.so/bookmarks-3b11361b4a07466f9fa0236e5f762c87">bookmark</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-pwa" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/06/12/pwa/">PWA 코드랩에 다녀왔다</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/06/12/pwa/" class="article-date">
	  <time datetime="2019-06-11T15:17:18.000Z" itemprop="datePublished">6월 12, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/개발공부/">개발공부</a>
 
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="PWA-코드랩-참여"><a href="#PWA-코드랩-참여" class="headerlink" title="PWA 코드랩 참여"></a><a href="https://festa.io/events/287" target="_blank" rel="noopener">PWA 코드랩</a> 참여</h1><p>우연히 SNS 팔로잉하는 분이 코드랩을 진행하신다는 정보를 접해서, 이번 기회에 PWA가 무엇인지 배워보고자 참여하게 되었다. 리액트를 공부하면서 CRA로 만든 프로젝트의 경우 자동으로 서비스워커가 등록된 것들을 자주 보았는데, 도대체 얘가 뭐하는 앤지 답답하던 와중에 이번 코드랩으로 개념 정도는 알 수 있을 것 같아 신청했다.</p>
<blockquote>
<p>코드랩 진행하시는 분은 이전에 <a href="https://eunajjing.github.io/2019/04/29/for-developer/">나의 개발 이야기</a> 때 뵌 분이라 홀로 내적친밀감 느끼며 반가웠다. 그리고 바로 지난 날 같은 장소에서 우아한테크코스가 끝난 터라 <del>이건 또 후기 언제 쓰냐</del> 자정까지 달리는 비어 파티를 했는데, 12시간도 안되어서 그 장소에 있는 내가 지박령 같고 웃겼다. 더 웃겼던 건 나 같은 사람 여러 명이었어… 숙취에 쩐 우형 내부개발자들과 함께 힘들어하는 시간이었다…</p>
</blockquote>
<h2 id="코드랩-전에"><a href="#코드랩-전에" class="headerlink" title="코드랩 전에"></a>코드랩 전에</h2><p>SNS를 팔로잉해둔 덕에 올려주신 포스트를 미리 읽고 갈 수 있었다.</p>
<ul>
<li><p><a href="https://medium.com/@euncho/pwa-코드랩-가이드라인-597049b2df40" target="_blank" rel="noopener">코드랩 가이드라인</a></p>
</li>
<li><p><a href="https://medium.com/@euncho/pwa를-구성하는-기술들-a5be57df5575" target="_blank" rel="noopener">PWA를 구성하는 기술들</a></p>
</li>
</ul>
<p>한 번 미리 읽고 가기도 했고, 설명을 워낙 잘해주셔서 설명과 포스팅을 함께 보니 이해가 쉬웠다. <del>뭐야 PWA 울트라캡숑 멋지잖아</del> 이해했다고 해서 내가 당장 PWA를 구현할 수 있다는 뜻은 아니지만…</p>
<h2 id="코드랩-진행"><a href="#코드랩-진행" class="headerlink" title="코드랩 진행"></a>코드랩 진행</h2><p>코드랩은 <a href="https://codelabs.developers.google.com/codelabs/your-first-pwapp/index.html?index=..%2F..index#0" target="_blank" rel="noopener">이 예제</a>를 각자 따라하는 식으로 진행되었다. 분명 30분이면 끝나는 예제인데 아무도 다 했다고 말하지 않아 <del>죄송해요 저도 다 했었는데 배고파서 도중에 나갔다왔고 추천해주신 예제 다 못했어요</del> 결국 제일 기본이 되는 예제를 함께 살펴보았다. 유익한 시간이었다.</p>
<h2 id="그래서-난-뭘-배웠나"><a href="#그래서-난-뭘-배웠나" class="headerlink" title="그래서 난 뭘 배웠나"></a>그래서 난 뭘 배웠나</h2><ul>
<li>PWA의 개념과 도입 이유</li>
<li>어설프게나마 구현하는 방식</li>
</ul>
<h3 id="느낀점"><a href="#느낀점" class="headerlink" title="느낀점"></a>느낀점</h3><p>사실 코드랩 끝나고 난 직후에는 PWA가 엄청 좋게만 느껴졌는데, 현재 관련한 SNS 담론들을 팔로잉해보니</p>
<ul>
<li>웹</li>
<li>IOS</li>
<li>안드로이드</li>
</ul>
<p>개발자가 거의 따로 있는 프로젝트의 경우(유저에게 보다 나은 경험을 주기 위해서는 따로 개발하는 것만큼 나은 게 없으니까) PWA까지 구현할 필요가 있냐는 이야기들이 나오고 있었고, 생각해봐야 하는 부분은 분명 있으리라 여겼다.</p>
<p>코드랩 진행 전에 PWA는 나온지 얼마 안 된 기술이고, 실제로 구현해본 사람도 별로 없다고 말씀하셨던 기억이 난다. 미래에 PWA가 어떻게 될지는 모르겠지만, 혼자 뭔가 만들어보는 걸 좋아하는 나로서는 웹을 디바이스에 깔 수 있다니 멋지게 느껴질 뿐이다. 토이프로젝트에 붙여봐야지.</p>
<h1 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h1><h2 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a><code>manifest.json</code></h2><h3 id="manifest란"><a href="#manifest란" class="headerlink" title="manifest란"></a>manifest란</h3><p>앱에 대한 정보를 담은 JSON 파일</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "name": "Weather", // 앱 이름</span><br><span class="line">  "short_name": "Weather", // 풀네임이 나올 수 없을 때 띄워줄 앱의 짧은 이름</span><br><span class="line">  "icons": [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"src"</span>: <span class="string">"/images/icons/icon-128x128.png"</span>,</span><br><span class="line">      <span class="attr">"sizes"</span>: <span class="string">"128x128"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"src"</span>: <span class="string">"/images/icons/icon-144x144.png"</span>,</span><br><span class="line">      <span class="attr">"sizes"</span>: <span class="string">"144x144"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"src"</span>: <span class="string">"/images/icons/icon-152x152.png"</span>,</span><br><span class="line">      <span class="attr">"sizes"</span>: <span class="string">"152x152"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"src"</span>: <span class="string">"/images/icons/icon-192x192.png"</span>,</span><br><span class="line">      <span class="attr">"sizes"</span>: <span class="string">"192x192"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"src"</span>: <span class="string">"/images/icons/icon-256x256.png"</span>,</span><br><span class="line">      <span class="attr">"sizes"</span>: <span class="string">"256x256"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"src"</span>: <span class="string">"/images/icons/icon-512x512.png"</span>,</span><br><span class="line">      <span class="attr">"sizes"</span>: <span class="string">"512x512"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  "start_url": "/index.html", // 시작할 url</span><br><span class="line">  "display": "standalone", // 앱 실행 시의 속성</span><br><span class="line">  // 이 외에 fullscreen, minimul-ui, browser 등이 있다.</span><br><span class="line">  "background_color": "#3E4EB8", // 앱 실행될 때 배경색</span><br><span class="line">  "theme_color": "#2F3BA2" // 상단바 색</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이외에도 <a href="https://developer.mozilla.org/en-US/docs/Web/Manifest#Members" target="_blank" rel="noopener">다양한 옵션</a>들을 설정할 수 있다.</p>
<h2 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a><code>index.html</code></h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"manifest"</span> <span class="attr">href</span>=<span class="string">"/manifest.json"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>만들어놓은 <code>json</code> 파일을 불러올 수 있도록 설정한다. 해당 <code>json</code> 파일은 개발자 도구의 어플리케이션 메뉴에서 확인 가능하다.</p>
<p><img src="https://codelabs.developers.google.com/codelabs/your-first-pwapp/img/c462743e1bc26958.png" alt=""></p>
<h3 id="사파리를-위한-meta-태그-설정"><a href="#사파리를-위한-meta-태그-설정" class="headerlink" title="사파리를 위한 meta 태그 설정"></a>사파리를 위한 <code>meta</code> 태그 설정</h3><p>사파리는 아직 manifest를 지원하지 않기 때문에 <code>manifest</code>에 쓴 설정들을 따로 기재해줘야 한다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 전체 화면 모드에서 실행 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span> <span class="attr">content</span>=<span class="string">"black"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 상단바 색 적용, 색을 투명하게 할 때는 콘텐츠에 black-translucent를 적용 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-title"</span> <span class="attr">content</span>=<span class="string">"Weather PWA"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 앱의 이름 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">href</span>=<span class="string">"/images/icons/icon-152x152.png"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 아이콘 --&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="SEO-문제-해결을-위한-description-설정"><a href="#SEO-문제-해결을-위한-description-설정" class="headerlink" title="SEO 문제 해결을 위한 description 설정"></a>SEO 문제 해결을 위한 description 설정</h3><p>SPA로 만들어진 웹앱의 경우 검색에 잘 걸리지 않는다는 문제가 있기 때문에, 정적 페이지에 검색에 걸릴 수 있는 키워드를 기재해준다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"A sample weather app"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="주-테마-컬러-설정"><a href="#주-테마-컬러-설정" class="headerlink" title="주 테마 컬러 설정"></a>주 테마 컬러 설정</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"theme-color"</span> <span class="attr">content</span>=<span class="string">"#2F3BA2"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="브라우저의-서비스워커-지원-여부-확인"><a href="#브라우저의-서비스워커-지원-여부-확인" class="headerlink" title="브라우저의 서비스워커 지원 여부 확인"></a>브라우저의 서비스워커 지원 여부 확인</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">"serviceWorker"</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  <span class="comment">// 브라우저 안의 네비게이터가 서비스 워커를 지원한다면</span></span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="comment">// 로드될 때 해당 함수를 실행한다.</span></span><br><span class="line">    navigator.serviceWorker.register(<span class="string">"/service-worker.js"</span>).then(<span class="function"><span class="params">reg</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 브라우저의 네비게이터에 서비스워커를 쓰겠다고 등록</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="service-worker-js"><a href="#service-worker-js" class="headerlink" title="service-worker.js"></a><code>service-worker.js</code></h2><p>라이프 사이클은 다음과 같다.</p>
<p><img src="https://codelabs.developers.google.com/codelabs/your-first-pwapp/img/72ed77b1720512da.png" alt=""></p>
<h3 id="캐시-등록-install"><a href="#캐시-등록-install" class="headerlink" title="캐시 등록 (install)"></a>캐시 등록 (install)</h3><p>서비스가 실행되자마자 발생하는 이벤트, <code>install</code>에 캐시를 등록한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CACHE_NAME = <span class="string">"static-cache-v1"</span>;</span><br><span class="line"><span class="comment">// 버전관리를 위해 v~ 형식의 이름을 넣는다.</span></span><br><span class="line"><span class="keyword">const</span> FILES_TO_CACHE = [</span><br><span class="line">	<span class="string">'/offline.html'</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">self.addEventListener(<span class="string">"install"</span>, evt =&gt; &#123;evt.waitUntil(</span><br><span class="line">  caches.open(CACHE_NAME).then(<span class="function">(<span class="params">cache</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 설정한 이름의 캐시를 오픈 후</span></span><br><span class="line">    <span class="keyword">return</span> cache.addAll(FILES_TO_CACHE);</span><br><span class="line">    <span class="comment">// 캐싱할 페이지를 넣는다.</span></span><br><span class="line">  	&#125;)</span><br><span class="line">	);</span><br><span class="line">	self.skipWaiting();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>만약 디바이스가 네트워크에 연결되어있지 않다면, 특정 페이지를 보여줘야 한다. 이 때 사용할 페이지를 미리 사용자의 캐시에 캐싱해놓을 필요가 있다.</p>
<h4 id="cache-open"><a href="#cache-open" class="headerlink" title="cache.open()"></a><code>cache.open()</code></h4><p>사용자의 디바이스 내 캐시를 연다. 인자로 준 문자열로 캐시가 오픈된다.</p>
<h4 id="cache-addAll"><a href="#cache-addAll" class="headerlink" title="cache.addAll()"></a><code>cache.addAll()</code></h4><p>캐시가 열렸을 때 호출할 수 있는 메서드로, 이 경우 url, 혹은 url 목록을 캐시 응답으로 추가 가능하다.</p>
<p><strong>목록으로 인자를 보낼 경우</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> FILES_TO_CACHE = [</span><br><span class="line">  <span class="string">"/"</span>,</span><br><span class="line">  <span class="string">"/index.html"</span>,</span><br><span class="line">  <span class="string">"/1.html"</span>,</span><br><span class="line">  <span class="string">"/2.html"</span>,</span><br><span class="line">  <span class="string">"/3.html"</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">self.addEventListener(<span class="string">"install"</span>, evt =&gt; &#123;</span><br><span class="line">  evt.waitUntil(</span><br><span class="line">  caches.open(CACHE_NAME).then(<span class="function">(<span class="params">cache</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cache.addAll(FILES_TO_CACHE);</span><br><span class="line">  	&#125;)</span><br><span class="line">	);</span><br><span class="line">	self.skipWaiting();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>도중에 하나라도 캐싱에 실패하면 모두 캐싱이 되지 않는다. 캐싱이 에러로 인해 실패할 경우 다시 웹앱의 서비스워커가 동작할 때 캐싱이 실행된다.</p>
<h3 id="캐시-관리-및-정리-activate"><a href="#캐시-관리-및-정리-activate" class="headerlink" title="캐시 관리 및 정리 (activate)"></a>캐시 관리 및 정리 (activate)</h3><p>서비스 워커가 시작할 때마다 마찬가지로 <code>activate</code> 이벤트도 실행되는데, 사용자의 어플리케이션 활용에 필요한 리소스 및 네트워크 처리를 준비하고 이제는 사용하지 않는 리소스를 삭제한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">"activate"</span>, evt =&gt; &#123;</span><br><span class="line">  <span class="comment">// activate 이벤트 발생 시 실행할 이벤트 리스너 등록</span></span><br><span class="line">  evt.waitUntil(</span><br><span class="line">    caches.keys().then(<span class="function"><span class="params">keyList</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.all(</span><br><span class="line">        keyList.map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (key !== CACHE_NAME) &#123;</span><br><span class="line">            <span class="comment">// 캐시의 키가 변했다면</span></span><br><span class="line">            <span class="keyword">return</span> caches.delete(key);</span><br><span class="line">            <span class="comment">// 캐시 삭제</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">  self.clients.claim();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><code>self.skipWaiting()</code>으로 시작해서 <code>self.clients.claim()</code>으로 종료될 때까지 서비스 워커는 해당 웹앱의 통제권을 가진다</strong></p>
</blockquote>
<h3 id="서비스워커의-요청-핸들링"><a href="#서비스워커의-요청-핸들링" class="headerlink" title="서비스워커의 요청 핸들링"></a>서비스워커의 요청 핸들링</h3><h4 id="fetch-로직-1"><a href="#fetch-로직-1" class="headerlink" title="fetch 로직 1"></a>fetch 로직 1</h4><p><img src="https://codelabs.developers.google.com/codelabs/your-first-pwapp/img/6302ad4ba8460944.png" alt=""></p>
<p>클라이언트가 요청의 요청이 네트워크로 바로 가는 기존 웹과 달리, 서비스워커는 해당 요청을 가로 챌 수 있다. 만약 해당 요청에 응답할 수 있는 데이터를 캐시가 가지고 있다면 클라이언트의 서비스워커가 응답한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">"fetch"</span>, evt =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (evt.request.mode !== <span class="string">"navigate"</span>) &#123;</span><br><span class="line">    <span class="comment">// 만약 단순한 페이지 이동이라면 가로채지 않고 네트워크로 요청을 전송하며</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  evt.respondWith(</span><br><span class="line">    <span class="comment">// 응답한다</span></span><br><span class="line">    fetch(evt.request).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 사용자의 요청을 가로채서</span></span><br><span class="line">      <span class="keyword">return</span> caches.open(CACHE_NAME).then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 캐시를 열어서</span></span><br><span class="line">        <span class="keyword">return</span> cache.match(<span class="string">"offline.html"</span>);</span><br><span class="line">        <span class="comment">// 해당 페이지를</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>evt.responsewith()</code>를 사용하면 네트워크에서 요청을 처리하지 않고, 서비스 워커 단에서 응답하겠다는 뜻</p>
</blockquote>
<h4 id="fetch-로직-2"><a href="#fetch-로직-2" class="headerlink" title="fetch 로직 2"></a>fetch 로직 2</h4><p><img src="https://codelabs.developers.google.com/codelabs/your-first-pwapp/img/6ebb2681eb1f58cb.png" alt=""></p>
<p>클라이언트의 요청에 네트워크가 응답하면 해당 값이 클라이언트와 캐시에 들어온다. 이런 로직으로 구현을 해놓으면, 오프라인 상태의 사용자는 오래된 데이터나마 더 빨리 화면에서 확인이 가능하고, 네트워크가 응답했을 때 최신의 결과물을 볼 수 있다. 이렇게 쓰기 위해서는 캐시 단과 네크워트 단, <strong>두 개의 비동기 요청</strong>이 필요하다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span>.keys(weatherApp.selectedLocations).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> location = weatherApp.selectedLocations[key];</span><br><span class="line">    <span class="keyword">const</span> card = getForecastCard(location);</span><br><span class="line">    getForecastFromCache(location.geo)</span><br><span class="line">    <span class="comment">// 캐시 관련 함수 호출</span></span><br><span class="line">    .then(<span class="function">(<span class="params">forecast</span>) =&gt;</span> &#123;</span><br><span class="line">      renderForecast(card, forecast);</span><br><span class="line">    &#125;);</span><br><span class="line">    getForecastFromNetwork(location.geo).then(<span class="function"><span class="params">forecast</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 네트워크 관련 함수 호출</span></span><br><span class="line">      renderForecast(card, forecast);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> * @param &#123;string&#125; coords Location object to.</span><br><span class="line"> * @<span class="keyword">return</span> &#123;<span class="built_in">Object</span>&#125; The weather forecast, <span class="keyword">if</span> the request fails, <span class="keyword">return</span> <span class="literal">null</span>.</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getForecastFromCache</span>(<span class="params">coords</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!(<span class="string">"caches"</span> <span class="keyword">in</span> <span class="built_in">window</span>)) &#123;</span><br><span class="line">    <span class="comment">// 윈도우에 캐시가 있는지 없는지 확인</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> url = <span class="string">`<span class="subst">$&#123;<span class="built_in">window</span>.location.origin&#125;</span>/forecast/<span class="subst">$&#123;coords&#125;</span>`</span>;</span><br><span class="line">  <span class="comment">// 캐시가 있다면 데이터를 가지고 옴</span></span><br><span class="line">  <span class="keyword">return</span> caches</span><br><span class="line">    .match(url)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (response) &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">"Error getting data from cache"</span>, err);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderForecast</span>(<span class="params">card, data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">    <span class="comment">// 데이터가 없으면 업데이트 미실행</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> cardLastUpdatedElem = card.querySelector(<span class="string">".card-last-updated"</span>);</span><br><span class="line">  <span class="comment">// 업데이트 정보를 지닌 노드를 가져와서</span></span><br><span class="line">  <span class="keyword">const</span> cardLastUpdated = cardLastUpdatedElem.textContent;</span><br><span class="line"> 	<span class="comment">// 가지고 있는 데이터를 가져오고</span></span><br><span class="line">  <span class="keyword">const</span> lastUpdated = <span class="built_in">parseInt</span>(cardLastUpdated);</span><br><span class="line">	<span class="comment">// 데이터 안에 있는, 타임스태프를 가져옴</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (lastUpdated &gt;= data.currently.time) &#123;</span><br><span class="line">  <span class="comment">// 만약 업데이트가 지금 되었다면 아래의 로직을 실행하지 않음</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 중략</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="html외의-파일도-캐싱해놓기"><a href="#html외의-파일도-캐싱해놓기" class="headerlink" title="html외의 파일도 캐싱해놓기"></a><code>html</code>외의 파일도 캐싱해놓기</h4><blockquote>
<p>리액트의 경우 번들만 캐싱해놓으면 된다</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> FILES_TO_CACHE = [</span><br><span class="line">  <span class="string">'/'</span>,</span><br><span class="line">  <span class="string">'/index.html'</span>,</span><br><span class="line">  <span class="string">'/scripts/app.js'</span>,</span><br><span class="line">  <span class="string">'/styles/inline.css'</span>,</span><br><span class="line">  <span class="string">'/images/add.svg'</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> CACHE_NAME = <span class="string">'static-cache-v2'</span>;</span><br><span class="line"><span class="keyword">const</span> DATA_CACHE_NAME = <span class="string">'data-cache-v1'</span>;</span><br><span class="line"><span class="comment">// 캐싱할 파일이 바뀌면 버전을 바꿔준다</span></span><br></pre></td></tr></table></figure>
<h5 id="activate-이벤트-리스너"><a href="#activate-이벤트-리스너" class="headerlink" title="activate 이벤트 리스너"></a><code>activate</code> 이벤트 리스너</h5><p>조건문을 <code>key !== CACHE_NAME &amp;&amp; key !== DATA_CACHE_NAME</code> 으로 바꿔준다. 즉 <strong>키 이름이 캐시 이름, 데이터 캐시 이름과 같지 않은</strong> 으로 조건을 바꾼다.</p>
<h5 id="fetch-이벤트-리스너"><a href="#fetch-이벤트-리스너" class="headerlink" title="fetch 이벤트 리스너"></a><code>fetch</code> 이벤트 리스너</h5><p><code>html</code> 뿐만 아니라 웹앱에 쓰이는 <code>js</code>, <code>css</code>, <code>svg</code> 까지 캐싱해두었기 때문에, 페이지 이동의 경우에도 캐시에 요청을 해야하는 상황이다. 때문에 <code>evt.request.mode !== &quot;navigate&quot;</code>라는 조건문을 삭제해야 한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">"fetch"</span>, evt =&gt; &#123;</span><br><span class="line">	<span class="keyword">if</span> (evt.request.url.includes(<span class="string">"/forecast/"</span>)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"[Service Worker] Fetch (data)"</span>, evt.request.url);</span><br><span class="line">    evt.respondWith(</span><br><span class="line">      caches.open(DATA_CACHE_NAME).then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fetch(evt.request)</span><br><span class="line">          .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 만약 네트워크 상황이 좋으면</span></span><br><span class="line">            <span class="keyword">if</span> (response.status === <span class="number">200</span>) &#123;</span><br><span class="line">              cache.put(evt.request.url, response.clone());</span><br><span class="line">              <span class="comment">// 캐시에 해당 응답을 넣는다</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> response;</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 네트워크 상황이 좋지 않으면</span></span><br><span class="line">            <span class="keyword">return</span> cache.match(evt.request);</span><br><span class="line">            <span class="comment">// 기존에 넣어두었던 캐시로 응답한다</span></span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  evt.respondWith(</span><br><span class="line">    caches.open(CACHE_NAME).then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> cache.match(evt.request).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response || fetch(evt.request);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h2><h3 id="index-html-1"><a href="#index-html-1" class="headerlink" title="index.html"></a><code>index.html</code></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/scripts/install.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="install-js"><a href="#install-js" class="headerlink" title="install.js"></a><code>install.js</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'beforeinstallprompt'</span>, saveBeforeInstallPromptEvent);</span><br><span class="line"><span class="comment">// 설치 창이 뜨기 전 실행할 이벤트리스너 등록</span></span><br><span class="line"><span class="keyword">let</span> deferredInstallPrompt = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// 향후 event가 들어옴</span></span><br><span class="line"><span class="keyword">const</span> installButton = <span class="built_in">document</span>.getElementById(<span class="string">"butInstall"</span>);</span><br><span class="line"><span class="comment">// 설치 버튼을 html 노드에서 가져오고</span></span><br><span class="line">installButton.addEventListener(<span class="string">"click"</span>, installPWA);</span><br><span class="line"><span class="comment">// 해당 버튼이 클릭되면 실행될 이벤트리스너 등록</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'appinstalled'</span>, logAppInstalled);</span><br><span class="line"><span class="comment">// 설치가 되면 실행할 리스너</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">saveBeforeInstallPromptEvent</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">  deferredInstallPrompt = evt;</span><br><span class="line">  <span class="comment">// event 객체 대입하고</span></span><br><span class="line">  installButton.removeAttribute(<span class="string">"hidden"</span>);</span><br><span class="line">  <span class="comment">// 감춰놨던 설치 버튼, 감춤 속성을 삭제</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">installPWA</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">  deferredInstallPrompt.prompt();</span><br><span class="line">  <span class="comment">// 설치 프롬프트 만들기</span></span><br><span class="line">  evt.srcElement.setAttribute(<span class="string">"hidden"</span>, <span class="literal">true</span>);</span><br><span class="line">  <span class="comment">// 설치 버튼 숨기기</span></span><br><span class="line"></span><br><span class="line">  deferredInstallPrompt.userChoice.then(<span class="function"><span class="params">choice</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 유저가 이미 선택했다면 다시는 보이지 않도록 처리</span></span><br><span class="line">    <span class="comment">// 유저의 선택을 저장</span></span><br><span class="line">    <span class="keyword">if</span> (choice.outcome === <span class="string">"accepted"</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"User accepted the A2HS prompt"</span>, choice);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"User dismissed the A2HS prompt"</span>, choice);</span><br><span class="line">    &#125;</span><br><span class="line">    deferredInstallPrompt = <span class="literal">null</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logAppInstalled</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Weather App was installed."</span>, evt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/개발공부/">개발공부</a>

      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/14/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/112/">112</a><a class="extend next" rel="next" href="/page/16/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/">개발공부</a><span class="category-list-count">96</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/CSS/">CSS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/GraphQL/">GraphQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/React/">React</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/javascript/">javascript</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/nodeJS/">nodeJS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/뉴딜과정/">뉴딜과정</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/몽고DB/">몽고DB</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/부스트코스/">부스트코스</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/부스트코스/웹-프로그래밍/">웹 프로그래밍</a><span class="category-list-count">8</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/안드로이드/">안드로이드</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/알고리즘-난항일지/">알고리즘 난항일지</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/우아한테크러닝-React-Typescript/">우아한테크러닝(React+Typescript)</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/개발공부/정보처리기사/">정보처리기사</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/일상/">일상</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/책/">책</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Contact Me</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a href="https://github.com/eunajjing" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/07/22/boostcouse-bes/">redirect&amp;forward/Scope</a></h6>
              <span>7월 22, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/07/22/boostcouse-mysql/">DB 연결 웹 앱 - MYSQL</a></h6>
              <span>7월 22, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/07/20/boostcouse-jsp/">JSP와 JSTL &amp; EL</a></h6>
              <span>7월 20, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/07/19/boostcouse-webui/">WEB UI 개발</a></h6>
              <span>7월 19, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/07/18/boostcouse-javascript/">javascript</a></h6>
              <span>7월 18, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/07/17/boostcouse-servlet/">Back-End</a></h6>
              <span>7월 17, 2019</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">7월 2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">6월 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">5월 2019</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">4월 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">3월 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">2월 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">1월 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">12월 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">11월 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">10월 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">9월 2018</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="https://www.notion.so/eunako-attr-every_day-study_hard-ebb1a09d24734280aba94018d13df0a1" class="mobile-nav-link">About</a>
  
    <a href="https://www.notion.so/bookmarks-3b11361b4a07466f9fa0236e5f762c87" class="mobile-nav-link">Bookmark</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 ERecord All Rights Reserved.
        
      </div>
 </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>

    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
