---
title: websocket
date: 2018-11-08 16:27:20
tags:categories: [개발공부]

---
# websocket을 이용한 간단한 알림 구현

----
## 유용하게 참고했던 링크들
[시니어코딩](https://www.youtube.com/watch?v=gQyRxPjssWg)

-  유튜브 강좌
- 스프링 시큐리티를 사용하지 않아 http세션과 웹소켓을 잇는 작업이 존재
- 연속된 강의라서 도중에 강의만 따라해서는 모르는 과정이 있음, 이 부족한 부분은 깃허브에 소스가 오픈되어 있어서 보면서 해야함

[블로그 포스팅](https://blog.naver.com/allspacea7/221360046480)

- xml 단에서 설정해야할 부분이 빠져있음
- 간단하게 몇 건의 send를 받았는지 표기하는 예제
- 개인적으로 제일 많은 도움을 받았음
- 그런데 왜인지 똑같은 소스인데 override가 안되더라ㅠㅠ 근데 이건 안되어도 일단 기능은 제대로 발동해서 놔둠

[블로그 포스팅](http://victorydntmd.tistory.com/253)

- 위의 블로그 포스팅에서 누락된 것을 보기 위해 참고했었음


----
## 이상한 곳에서 계속 헤메이던 웹소켓 구현

- 다들 저 위의 링크들을 따라하다보면 나...름 구현은 가능할 듯
- 근데 내가 힘들었던 건 많이 참고했다는 블로그 포스팅을 보고 1차로 페이지 이동 시 웹소켓 발동까지는 했는데
- 갑자기 실시간으로 알림 받기로 변경하라는 피드백을 받아서 일부를 수정하면서 생긴 것.
- 인강은 **디비에 있는 데이터를 뿌리지 않고 웹소켓이 보낸 데이터를 클라이언트 단에 단순히 뿌려주는 식으로 구현됨**
- 그런데 나는 디비에서 가져와야 하기 때문에 쵸큼 달랐고 걍 핸들러에서 db에 select를 하게끔 만들었다.
- 나는 send된 파라미터가 여러 개일 때만 처리하려고 했는데 왜인지 **파라미터 여러 개 send**가 먹지 않았던 문제가 제일 힘들었다. 나중에 알고보니까 아래처럼 써서 그랬던 거 같다.

        websocket.send("~~~", "~~~", "~~");


- 이렇게 썼다면 되지 않았을까?
 (어쩌다보니 이렇게 보낼 필요가 없어서 나는 시도는 안해봤다)

        websocket.send("~~~~, ~~~~, ~~~");

- 그리구 인강에서 전역 변수로 빼서 사용하는 웹소켓, 나는 먹지 않아서 그냥 고치기 전? 전역 변수로 빼지 않고 사용하는 웹소켓으로 구현했다.


----
## 테스트
* [웹소켓 테스트 가능 사이트](http://websocket.org/echo.html)